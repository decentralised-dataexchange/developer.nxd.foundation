---
id: service-update-individual-consent-record
title: "Update consent record"
description: "This endpoint is used to update an existing consent record for a given data agreement for an organiation defined in the consent building block. Note that updating a signed consent record invalidates its earlier signature."
sidebar_label: "Update consent record"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "put api-method"
info_path: docs/disp-api/disp-api-documentation
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Update consent record"}
>
</Heading>

<MethodEndpoint
  method={"put"}
  path={"/service/individual/record/consent-record/{consentRecordId}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This endpoint is used to update an existing consent record for a given data agreement for an organiation defined in the consent building block. Note that updating a signed consent record invalidates its earlier signature.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={[{"description":"Unique ID of an object","in":"path","name":"consentRecordId","required":true,"schema":{"type":"string"}},{"description":"An object with ID individualId","in":"query","name":"individualId","required":true,"schema":{"type":"string"}},{"description":"An object with ID dataAgreementId","in":"query","name":"dataAgreementId","required":true,"schema":{"type":"string"}},{"description":"An object with ID revisionId","in":"query","name":"revisionId","required":false,"schema":{"type":"string"}},{"in":"header","name":"X-ConsentBB-IndividualId","required":true,"schema":{"type":"string"},"description":"Individual ID"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"optIn":{"description":"True: The individual has positively opted in. False: The individual has explicitly said no (or withdrawn a previous consent).","example":"","format":"","type":"boolean"}}},{"type":"object","properties":{"sectorPreference":{"type":"object","properties":{"sector":{"type":"string","format":"","example":"","description":"Name of the sector"},"optIn":{"type":"boolean","description":"Defines sector is opted in or not"}}}}}]}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"properties":{"consentRecord":{"type":"object","title":"ConsentRecord","description":"A consent record expresses consent (as defined in this building block's specification) to a single DataAgreement. There must be a UNIQUE constraint on (data agreement revision, individual)","x-not-in-database":false,"required":["id","agreementRevisionHash","state"],"properties":{"id":{"type":"string","format":"","example":"","description":"Objects may be passed back by some API endpoints without an ID (PK), denoting that they are a \"draft\", i.e. a ConsentRecord that is not yet stored in the database and only exist in transit. Draft ConsentRecords do not have a Revision, but if paired up with a Signature, a valid Revision should be generated."},"dataAgreementId":{"type":"string","x-fk-model":"DataAgreement","description":"The DataAgreement to which consent has been given"},"dataAgreementRevisionId":{"type":"string","x-fk-model":"Revision","description":"The Revision of the data agreement which consent has been given to"},"dataAgreementRevisionHash":{"type":"string","format":"","example":"","description":"Copy of the revision hash. The hash is the included in the signature and ensures against tampering with the original agreement."},"individualId":{"type":"string","x-fk-model":"Individual","description":"The Individual who has signed this consent record"},"optIn":{"type":"boolean","format":"","example":"","description":"True: The individual has positively opted in. False: The individual has explicitly said no (or withdrawn a previous consent)."},"state":{"type":"string","format":"","example":"","description":"The state field is used to record state changes after-the-fact. It is maintained by the Consent BB itself. Valid states: unsigned/pending more signatures/signed","enum":["unsigned","signed"]},"signatureId":{"type":"string","x-fk-model":"Signature","description":"A signature that hashes all the values of the consent record and has signed it with the key of the Invidiual, making it verifiable and tamper-proof. TBD: Relation to a Signature schema?"},"sectorPreferences":{"type":"array","items":{"type":"object","description":"specifies the preferred sector details","x-not-in-database":false,"required":["sector","location"],"properties":{"sector":{"type":"string","format":"","example":"","description":"Name of the sector"},"optIn":{"type":"boolean","description":"Defines sector is opted in or not"},"isLastUpdated":{"type":"boolean","description":"Defines consent record for this sector is last updated"}}}}}},"revision":{"type":"object","title":"Revision","description":"A *generic* revision model captures the serialised contents of any schema's single row. This is then subject to 1) cryptographic signature and 2) auditing.\n\nAside from the \"successor\" column, a revision should be considered locked.","x-not-in-database":false,"required":["id","schemaName","objectId","objectData","serizalizedSnapshot","serializedHash","timestamp"],"properties":{"id":{"type":"string","format":"","example":"","description":"Revision ID"},"schemaName":{"type":"string","format":"","example":"","description":"Previously \"schema\" but for technical reasons should be called \"schemaName\"","enum":["dataAgreement","policy","dataAgreementRecord"]},"objectId":{"type":"string","format":"","example":"","description":"The PK of the object that was serialised"},"objectData":{"type":"string","format":"","example":"","description":"The object that is serialised"},"signedWithoutObjectId":{"type":"boolean","format":"","example":"","description":"Indicates that objectId was left blank in serizalizedSnapshot when calculating serializedHash. objectId may subsequently be filled in."},"serizalizedSnapshot":{"type":"string","format":"","example":"","description":"Revisioned data (sed as JSON) as a dict. Apply JSON Canonicalization Scheme as per IETF RFC 8785.  It contains all the fields of the schema except sucessorId, serializedHash, serializedSnapshot.\n"},"serializedHash":{"type":"string","format":"","example":"","description":"Hash of serizalizedSnapshot (SHA-1)"},"timestamp":{"type":"string","format":"","example":"","description":"Timestamp of when revisioning happened. It should be ISO 8601 UTC date time"},"authorizedByIndividualId":{"description":"Individual ID","type":"string"},"authorizedByOtherId":{"type":"string","format":"","example":"","description":"Reference to an admin user that has created this revision"},"successorId":{"x-fk-model":"Revision","type":"string","description":"If this revision is no longer the latest revision, refer to its successor"},"predecessorHash":{"type":"string","format":"","example":"","description":"Tamper-resistent artifact from previous record, copied from serializedHash"},"predecessorSignature":{"type":"string","format":"","example":"","description":"Tamper-resistent artifact from previous record (we don't know if the previous record was signed or not)"}}}},"type":"object"}}},"description":"","headers":{}},"400":{"description":"bad input parameter","headers":{}}}}
>
  
</StatusCodes>


      