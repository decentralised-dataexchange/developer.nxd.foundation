---
id: service-create-individual-consent-record
title: "Create consent record"
description: "This endpoint is used to create a consent record when an individial records their consent (e.g. in the privacy dashboard) against a data agreement."
sidebar_label: "Create consent record"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/disp-api/disp-api-documentation
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create consent record"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/service/individual/record/data-agreement/{dataAgreementId}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This endpoint is used to create a consent record when an individial records their consent (e.g. in the privacy dashboard) against a data agreement.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={[{"description":"Unique ID of an object","in":"path","name":"dataAgreementId","required":true,"schema":{"type":"string"}},{"description":"An object with ID revisionId","in":"query","name":"revisionId","required":false,"schema":{"type":"string"}},{"in":"header","name":"X-ConsentBB-IndividualId","required":true,"schema":{"type":"string"},"description":"Individual ID"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"properties":{"consentRecord":{"type":"object","title":"ConsentRecord","description":"A consent record expresses consent (as defined in this building block's specification) to a single DataAgreement. There must be a UNIQUE constraint on (data agreement revision, individual)","x-not-in-database":false,"required":["id","agreementRevisionHash","state"],"properties":{"id":{"type":"string","format":"","example":"","description":"Objects may be passed back by some API endpoints without an ID (PK), denoting that they are a \"draft\", i.e. a ConsentRecord that is not yet stored in the database and only exist in transit. Draft ConsentRecords do not have a Revision, but if paired up with a Signature, a valid Revision should be generated."},"dataAgreementId":{"type":"string","x-fk-model":"DataAgreement","description":"The DataAgreement to which consent has been given"},"dataAgreementRevisionId":{"type":"string","x-fk-model":"Revision","description":"The Revision of the data agreement which consent has been given to"},"dataAgreementRevisionHash":{"type":"string","format":"","example":"","description":"Copy of the revision hash. The hash is the included in the signature and ensures against tampering with the original agreement."},"individualId":{"type":"string","x-fk-model":"Individual","description":"The Individual who has signed this consent record"},"optIn":{"type":"boolean","format":"","example":"","description":"True: The individual has positively opted in. False: The individual has explicitly said no (or withdrawn a previous consent)."},"state":{"type":"string","format":"","example":"","description":"The state field is used to record state changes after-the-fact. It is maintained by the Consent BB itself. Valid states: unsigned/pending more signatures/signed","enum":["unsigned","signed"]},"signatureId":{"type":"string","x-fk-model":"Signature","description":"A signature that hashes all the values of the consent record and has signed it with the key of the Invidiual, making it verifiable and tamper-proof. TBD: Relation to a Signature schema?"},"sectorPreferences":{"type":"array","items":{"type":"object","description":"specifies the preferred sector details","x-not-in-database":false,"required":["sector","location"],"properties":{"sector":{"type":"string","format":"","example":"","description":"Name of the sector"},"optIn":{"type":"boolean","description":"Defines sector is opted in or not"},"isLastUpdated":{"type":"boolean","description":"Defines consent record for this sector is last updated"}}}}}},"revision":{"type":"object","title":"Revision","description":"A *generic* revision model captures the serialised contents of any schema's single row. This is then subject to 1) cryptographic signature and 2) auditing.\n\nAside from the \"successor\" column, a revision should be considered locked.","x-not-in-database":false,"required":["id","schemaName","objectId","objectData","serizalizedSnapshot","serializedHash","timestamp"],"properties":{"id":{"type":"string","format":"","example":"","description":"Revision ID"},"schemaName":{"type":"string","format":"","example":"","description":"Previously \"schema\" but for technical reasons should be called \"schemaName\"","enum":["dataAgreement","policy","dataAgreementRecord"]},"objectId":{"type":"string","format":"","example":"","description":"The PK of the object that was serialised"},"objectData":{"type":"string","format":"","example":"","description":"The object that is serialised"},"signedWithoutObjectId":{"type":"boolean","format":"","example":"","description":"Indicates that objectId was left blank in serizalizedSnapshot when calculating serializedHash. objectId may subsequently be filled in."},"serizalizedSnapshot":{"type":"string","format":"","example":"","description":"Revisioned data (sed as JSON) as a dict. Apply JSON Canonicalization Scheme as per IETF RFC 8785.  It contains all the fields of the schema except sucessorId, serializedHash, serializedSnapshot.\n"},"serializedHash":{"type":"string","format":"","example":"","description":"Hash of serizalizedSnapshot (SHA-1)"},"timestamp":{"type":"string","format":"","example":"","description":"Timestamp of when revisioning happened. It should be ISO 8601 UTC date time"},"authorizedByIndividualId":{"description":"Individual ID","type":"string"},"authorizedByOtherId":{"type":"string","format":"","example":"","description":"Reference to an admin user that has created this revision"},"successorId":{"x-fk-model":"Revision","type":"string","description":"If this revision is no longer the latest revision, refer to its successor"},"predecessorHash":{"type":"string","format":"","example":"","description":"Tamper-resistent artifact from previous record, copied from serializedHash"},"predecessorSignature":{"type":"string","format":"","example":"","description":"Tamper-resistent artifact from previous record (we don't know if the previous record was signed or not)"}}}},"type":"object"}}},"description":"","headers":{}},"400":{"description":"bad input parameter","headers":{}}}}
>
  
</StatusCodes>


      