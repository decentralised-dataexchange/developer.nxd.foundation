---
id: config-create-agreement
title: "Create data agreement"
description: "This endpoint creates a data agreement for an organisation."
sidebar_label: "Create data agreement"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/disp-api/disp-api-documentation
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create data agreement"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/config/data-agreement"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This endpoint creates a data agreement for an organisation. 
It also returns the latest revision of the created data agreement.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={[]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"properties":{"dataAgreement":{"allOf":[{"type":"object","title":"DataAgreement","description":"An agreement contains the specification of a single purpose that can be consented to.  A DataAgreement is universal and can be consented to by *many* individuals through a DataAgreementRecord.\n","x-not-in-database":false,"required":["purpose","purposeDescription","controllerUrl","controllerName","policy","lawfulBasis","methodOfUse","active","forgettable","lifecycle"],"properties":{"policy":{"description":"Policy under which this DataAgreement shall be governed.  When creating a data agreement, the latest policy can be used to fill the default value,  and organisation admin can decide to change it in the data agreement level.\n","type":"object","title":"Policy","x-not-in-database":false,"required":["name","url"],"properties":{"id":{"type":"string","format":"","example":"","description":""},"name":{"type":"string","format":"","example":"","description":"Name of the policy"},"version":{"type":"string","format":"","example":"","description":"Version of the policy (it can follow the semver format)"},"url":{"type":"string","format":"","example":"","description":"Permanent URL at which this very version of the Policy can be read, should not be allowed to change over time"},"jurisdiction":{"type":"string","format":"","example":"","description":"Jurisdiction"},"industrySector":{"type":"string","format":"","example":"","description":"Industry sector"},"dataRetentionPeriodDays":{"type":"integer","format":"","example":"","description":"Data retention period in days"},"geographicRestriction":{"type":"string","format":"","example":"","description":"Geographic restriction"},"storageLocation":{"type":"string","format":"","example":"","description":"Storage location"},"thirdPartyDataSharing":{"type":"boolean","format":"","example":true,"description":"Third party data sharing"}}},"dataAttributes":{"type":"array","items":{"allOf":[{"type":"object","description":"Data attributes contain specifications of exactly what is collected.","x-not-in-database":false,"required":["name","description"],"properties":{"id":{"type":"string","format":"","example":"","description":"Data attribute ID"},"name":{"type":"string","format":"","example":"","description":"Name of the attribute, for instance \"name\" or \"age\""},"description":{"type":"string","format":"","example":"","description":"Description of the attribute"},"sensitivity":{"type":"boolean","format":"","example":"","description":"Sensitivity of data attribute"},"category":{"type":"string","format":"","example":"","description":"Category of data attribute"},"scope":{"type":"string","format":"","example":"","description":"Scope required for data attribute"}}},{"type":"object","properties":{"restrictions":{"type":"array","items":{"type":"object","description":"List of restrictions","x-not-in-database":false,"properties":{"credDefId":{"type":"string","format":"","example":"H3DW1MUWZyBkP5LG4rTYRH:3:CL:80:default","description":"Credential definition ID"},"schemaId":{"type":"string","format":"","example":"H3DW1MUWZyBkP5LG4rTYRH:2:Certificate Of Registration:6.0.0","description":"Schema ID"}}}}}}]},"description":"Data attributes contain specifications of exactly what is collected.\n"},"purpose":{"type":"string","description":"Name of purpose"},"purposeDescription":{"type":"string","description":"Description of purpose"},"lawfulBasis":{"type":"string","format":"","example":"","description":"Lawful basis of the agreement - consent / legal_obligation / contract / vital_interest / public_task / legitimate_interest","enum":["consent","legal_obligation","contract","vital_interest","public_task","legitimate_interest"]},"methodOfUse":{"type":"string","format":"","example":"","description":"Method of use - null / data_source / data_using_service","enum":[null,"data_source","data_using_service"]},"dpiaDate":{"type":"string","format":"","example":"","description":"The date on which the DPIA report is generated after a DPIA"},"dpiaSummaryUrl":{"type":"string","description":"The URl providing the DPIA result reports, summary etc that can be verified by any interested parties"},"signature":{"x-fk-model":"Signature","description":"Signature of authorising party of DataAgreement (Signatures may be chained in the case of multiple signatures)\n","type":"object","title":"Signature","x-not-in-database":false,"required":["payload","signature","verificationMethod","verificationPayload","verificationPayloadHash","verificationSignedBy","timestamp"],"properties":{"id":{"type":"string","format":"","example":"","description":"Objects may be passed back by some API endpoints without an id (PK), denoting that they are a \"draft\", i.e. a Signature that is not yet stored in the database and only exists in transit."},"payload":{"type":"string","format":"","example":"","description":"The final payload that is signed, constructed as a JSON serialisation of fields {verificationPayload: ..., verificationPayloadHash: ..., verificationMethod: ..., verificationArtifact: ..., verificationSignedBy: ..., verificationJwsHeader, timestamp: ..., signedWithoutObjectReference: ..., objectType: ..., objectReference: ...}. Serialised as a JSON dict. If the signature is generated before anything is stored in the database (and has a PK), then the objectReference should be omitted from the payload but filled in afterwards."},"signature":{"type":"string","format":"","example":"","description":"Signature of payload hash, the format of the signature should be specified by either verificationMethod or verificationJwsHeader"},"verificationMethod":{"type":"string","format":"","example":"","description":"A well-known string denoting which method is used. Valid values: TBD. This might be expanded with supported verification methods. There may be a minimal set of supported methods necessary."},"verificationPayload":{"type":"string","format":"","example":"","description":"Internally generated serialised version of the data referenced by objectType and objectReference - by extracting and serialising their data as JSON"},"verificationPayloadHash":{"type":"string","format":"","example":"","description":"Internally generated cryptographic hash of the value to be signed, i.e. the value of verificationPayload"},"verificationArtifact":{"type":"string","format":"","example":"","description":"A verification artifact in the form of a scanned object, image, signature etc"},"verificationSignedBy":{"type":"string","format":"","example":"","description":"Because an identifier's information may change over time, there is a need to store that information at the time of signing. In the case of a cryptographic signature, this field should contain some identifier for looking up or verifying the public key of the signing party. In the case of a non-cryptographic signature, this field could contain a natural individual's names, personal number, email addresses - store a snapshot that binds to the signature at the time of signing. In the case of a cryptographic signature, this may be the fingerprint of the individual's public key or in some cases, a token from the user's ID session."},"verificationSignedAs":{"type":"string","format":"","example":"","description":"DRAFT FIELD: Specifies the relationship between the authorising signature and the invidual which the payload concerns. This is relevant for Consent Records. Possible values: \"individual\" / \"delegate\"."},"verificationJwsHeader":{"type":"string","format":"","example":"","description":"Alternative to the verificationMethod, verificationHash and verificationSignature, give a JWS serialised object (RFC7515)"},"timestamp":{"type":"string","format":"","example":"","description":"Timestamp of signature, currently this field isn't part of the payload so it's not tamper-proof"},"signedWithoutObjectReference":{"type":"boolean","format":"","example":"","description":"Indicates that objectReference was left blank in the serialised version that was signed"},"objectType":{"type":"string","format":"","example":"","description":"Name of the schema model that objectReference points to. Values: \"signature\" or \"revision\"","enum":["revision","signature"]},"objectReference":{"type":"string","format":"","example":"","description":"A symmetric relation / back reference to the objectType that was signed. We are currently just modelling signing another signature (a chain) or signing a Revision (which can be a revision of a consent record, an agreement, policy etc)."}}},"active":{"type":"boolean","format":"","example":"","description":"DataAgreement is active and new DataAgreementRecords can be created"},"forgettable":{"type":"boolean","format":"","example":"","description":"DataAgreementRecord may be deleted when consent is withdrawn, as its existence is not necessary for auditability."},"compatibleWithVersionId":{"type":"string","format":"","x-fk-model":"DataAgreement","description":"WIP: This field indicates that Data Agreement Records may be transferred from this  compatible previous revision of the same DataAgreement\n"},"dataUsingServices":{"type":"array","items":[{"type":"object","description":"Data using service organisation for the data agreement","x-not-in-database":false,"required":["name","sector","location"],"properties":{"name":{"type":"string","format":"","example":"","description":"Name of the data using service organisation"},"sector":{"type":"string","format":"","example":"","description":"Defines sector of the organisation"},"location":{"type":"string","format":"","example":"","description":"Defines location of the organisation"},"privacyDashboardUrl":{"type":"string","format":"","example":"","description":"Defines privacy dashboard url of the organisation"}}}]},"openApiSpecification":{"type":"object","description":"This field contains OpenAPI specification document describing the API's endpoints, models, and operations."},"dataSources":{"type":"array","items":[{"type":"object","description":"Data source organisation for the data agreement","x-not-in-database":false,"required":["name","sector","location"],"properties":{"name":{"type":"string","format":"","example":"","description":"Name of the data source organisation"},"sector":{"type":"string","format":"","example":"","description":"Defines sector of the organisation"},"location":{"type":"string","format":"","example":"","description":"Defines location of the organisation"},"privacyDashboardUrl":{"type":"string","format":"","example":"","description":"Defines privacy dashboard url of the organisation"}}}]}}},{"type":"object","title":"DataAgreementExtras","required":["dataExchange"],"properties":{"dataExchange":{"type":"object","description":"Data exchange details","properties":{"dataExchangeProfile":{"type":"string","description":"Data exchange profile","enum":["AIP10","OID4VC"]},"id":{"type":"string","description":"Definition id for OID4VC data exchange profile"},"schemaId":{"type":"string","description":"Schema identifier"},"isExistingSchema":{"type":"boolean","description":"Is schema existing"}},"required":["isExistingSchema","schemaId"]}}}],"description":"An object of type DataAgreement"}},"required":["dataAgreement"],"type":"object"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"properties":{"dataAgreement":{"allOf":[{"type":"object","title":"DataAgreement","description":"An agreement contains the specification of a single purpose that can be consented to.  A DataAgreement is universal and can be consented to by *many* individuals through a DataAgreementRecord.\n","x-not-in-database":false,"required":["purpose","purposeDescription","controllerUrl","controllerName","policy","lawfulBasis","methodOfUse","active","forgettable","lifecycle"],"properties":{"id":{"type":"string","format":"","example":"","description":""},"version":{"type":"string","format":"","example":"","description":"The version of this specification to which a receipt conforms"},"controllerId":{"type":"string","description":"ID of the controller"},"controllerUrl":{"type":"string","description":"URL of data controller (may be omitted if no data involved)"},"controllerName":{"type":"string","description":"Name of data controller (may be omitted if no data involved)"},"policy":{"description":"Policy under which this DataAgreement shall be governed.  When creating a data agreement, the latest policy can be used to fill the default value,  and organisation admin can decide to change it in the data agreement level.\n","type":"object","title":"Policy","x-not-in-database":false,"required":["name","url"],"properties":{"id":{"type":"string","format":"","example":"","description":""},"name":{"type":"string","format":"","example":"","description":"Name of the policy"},"version":{"type":"string","format":"","example":"","description":"Version of the policy (it can follow the semver format)"},"url":{"type":"string","format":"","example":"","description":"Permanent URL at which this very version of the Policy can be read, should not be allowed to change over time"},"jurisdiction":{"type":"string","format":"","example":"","description":"Jurisdiction"},"industrySector":{"type":"string","format":"","example":"","description":"Industry sector"},"dataRetentionPeriodDays":{"type":"integer","format":"","example":"","description":"Data retention period in days"},"geographicRestriction":{"type":"string","format":"","example":"","description":"Geographic restriction"},"storageLocation":{"type":"string","format":"","example":"","description":"Storage location"},"thirdPartyDataSharing":{"type":"boolean","format":"","example":true,"description":"Third party data sharing"}}},"dataAttributes":{"type":"array","items":{"allOf":[{"type":"object","description":"Data attributes contain specifications of exactly what is collected.","x-not-in-database":false,"required":["name","description"],"properties":{"id":{"type":"string","format":"","example":"","description":"Data attribute ID"},"name":{"type":"string","format":"","example":"","description":"Name of the attribute, for instance \"name\" or \"age\""},"description":{"type":"string","format":"","example":"","description":"Description of the attribute"},"sensitivity":{"type":"boolean","format":"","example":"","description":"Sensitivity of data attribute"},"category":{"type":"string","format":"","example":"","description":"Category of data attribute"},"scope":{"type":"string","format":"","example":"","description":"Scope required for data attribute"}}},{"type":"object","properties":{"restrictions":{"type":"array","items":{"type":"object","description":"List of restrictions","x-not-in-database":false,"properties":{"credDefId":{"type":"string","format":"","example":"H3DW1MUWZyBkP5LG4rTYRH:3:CL:80:default","description":"Credential definition ID"},"schemaId":{"type":"string","format":"","example":"H3DW1MUWZyBkP5LG4rTYRH:2:Certificate Of Registration:6.0.0","description":"Schema ID"}}}}}}]},"description":"Data attributes contain specifications of exactly what is collected.\n"},"purpose":{"type":"string","description":"Name of purpose"},"purposeDescription":{"type":"string","description":"Description of purpose"},"lawfulBasis":{"type":"string","format":"","example":"","description":"Lawful basis of the agreement - consent / legal_obligation / contract / vital_interest / public_task / legitimate_interest","enum":["consent","legal_obligation","contract","vital_interest","public_task","legitimate_interest"]},"methodOfUse":{"type":"string","format":"","example":"","description":"Method of use - null / data_source / data_using_service","enum":[null,"data_source","data_using_service"]},"dpiaDate":{"type":"string","format":"","example":"","description":"The date on which the DPIA report is generated after a DPIA"},"dpiaSummaryUrl":{"type":"string","description":"The URl providing the DPIA result reports, summary etc that can be verified by any interested parties"},"signature":{"x-fk-model":"Signature","description":"Signature of authorising party of DataAgreement (Signatures may be chained in the case of multiple signatures)\n","type":"object","title":"Signature","x-not-in-database":false,"required":["payload","signature","verificationMethod","verificationPayload","verificationPayloadHash","verificationSignedBy","timestamp"],"properties":{"id":{"type":"string","format":"","example":"","description":"Objects may be passed back by some API endpoints without an id (PK), denoting that they are a \"draft\", i.e. a Signature that is not yet stored in the database and only exists in transit."},"payload":{"type":"string","format":"","example":"","description":"The final payload that is signed, constructed as a JSON serialisation of fields {verificationPayload: ..., verificationPayloadHash: ..., verificationMethod: ..., verificationArtifact: ..., verificationSignedBy: ..., verificationJwsHeader, timestamp: ..., signedWithoutObjectReference: ..., objectType: ..., objectReference: ...}. Serialised as a JSON dict. If the signature is generated before anything is stored in the database (and has a PK), then the objectReference should be omitted from the payload but filled in afterwards."},"signature":{"type":"string","format":"","example":"","description":"Signature of payload hash, the format of the signature should be specified by either verificationMethod or verificationJwsHeader"},"verificationMethod":{"type":"string","format":"","example":"","description":"A well-known string denoting which method is used. Valid values: TBD. This might be expanded with supported verification methods. There may be a minimal set of supported methods necessary."},"verificationPayload":{"type":"string","format":"","example":"","description":"Internally generated serialised version of the data referenced by objectType and objectReference - by extracting and serialising their data as JSON"},"verificationPayloadHash":{"type":"string","format":"","example":"","description":"Internally generated cryptographic hash of the value to be signed, i.e. the value of verificationPayload"},"verificationArtifact":{"type":"string","format":"","example":"","description":"A verification artifact in the form of a scanned object, image, signature etc"},"verificationSignedBy":{"type":"string","format":"","example":"","description":"Because an identifier's information may change over time, there is a need to store that information at the time of signing. In the case of a cryptographic signature, this field should contain some identifier for looking up or verifying the public key of the signing party. In the case of a non-cryptographic signature, this field could contain a natural individual's names, personal number, email addresses - store a snapshot that binds to the signature at the time of signing. In the case of a cryptographic signature, this may be the fingerprint of the individual's public key or in some cases, a token from the user's ID session."},"verificationSignedAs":{"type":"string","format":"","example":"","description":"DRAFT FIELD: Specifies the relationship between the authorising signature and the invidual which the payload concerns. This is relevant for Consent Records. Possible values: \"individual\" / \"delegate\"."},"verificationJwsHeader":{"type":"string","format":"","example":"","description":"Alternative to the verificationMethod, verificationHash and verificationSignature, give a JWS serialised object (RFC7515)"},"timestamp":{"type":"string","format":"","example":"","description":"Timestamp of signature, currently this field isn't part of the payload so it's not tamper-proof"},"signedWithoutObjectReference":{"type":"boolean","format":"","example":"","description":"Indicates that objectReference was left blank in the serialised version that was signed"},"objectType":{"type":"string","format":"","example":"","description":"Name of the schema model that objectReference points to. Values: \"signature\" or \"revision\"","enum":["revision","signature"]},"objectReference":{"type":"string","format":"","example":"","description":"A symmetric relation / back reference to the objectType that was signed. We are currently just modelling signing another signature (a chain) or signing a Revision (which can be a revision of a consent record, an agreement, policy etc)."}}},"active":{"type":"boolean","format":"","example":"","description":"DataAgreement is active and new DataAgreementRecords can be created"},"forgettable":{"type":"boolean","format":"","example":"","description":"DataAgreementRecord may be deleted when consent is withdrawn, as its existence is not necessary for auditability."},"compatibleWithVersionId":{"type":"string","format":"","x-fk-model":"DataAgreement","description":"WIP: This field indicates that Data Agreement Records may be transferred from this  compatible previous revision of the same DataAgreement\n"},"lifecycle":{"type":"string","description":"WIP: Current Lifecycle state of the DataAgreement.  Lifecycle states are used to manage internal workflows and  should not be assigned semantic meanings for active Data Agreement Records.\n","enum":["draft","complete"]},"dataUsingServices":{"type":"array","items":[{"type":"object","description":"Data using service organisation for the data agreement","x-not-in-database":false,"required":["name","sector","location"],"properties":{"name":{"type":"string","format":"","example":"","description":"Name of the data using service organisation"},"sector":{"type":"string","format":"","example":"","description":"Defines sector of the organisation"},"location":{"type":"string","format":"","example":"","description":"Defines location of the organisation"},"privacyDashboardUrl":{"type":"string","format":"","example":"","description":"Defines privacy dashboard url of the organisation"}}}]},"openApiSpecification":{"type":"object","description":"This field contains OpenAPI specification document describing the API's endpoints, models, and operations."},"dataSources":{"type":"array","items":[{"type":"object","description":"Data source organisation for the data agreement","x-not-in-database":false,"required":["name","sector","location"],"properties":{"name":{"type":"string","format":"","example":"","description":"Name of the data source organisation"},"sector":{"type":"string","format":"","example":"","description":"Defines sector of the organisation"},"location":{"type":"string","format":"","example":"","description":"Defines location of the organisation"},"privacyDashboardUrl":{"type":"string","format":"","example":"","description":"Defines privacy dashboard url of the organisation"}}}]}}},{"type":"object","title":"DataAgreementExtras","required":["dataExchange"],"properties":{"dataExchange":{"type":"object","description":"Data exchange details","properties":{"dataExchangeProfile":{"type":"string","description":"Data exchange profile","enum":["AIP10"]},"id":{"type":"string","description":"Data agreement ID defined in AIP"},"credentialDefinitionId":{"type":"string","description":"Credential definition identifier"},"schemaId":{"type":"string","description":"Schema identifier"},"isExistingSchema":{"type":"boolean","description":"Is schema existing"},"qrId":{"type":"string"},"firebaseDynamicLink":{"type":"string"},"presentationRequest":{"type":"object","properties":{"name":{"type":"string","description":"Name of the presentation request"},"version":{"type":"string","description":"Version of the presentation request"},"requestedAttributes":{"type":"object","description":"Map of requested attributes","properties":{"name":{"type":"string","description":"Name of the requested attribute"},"restrictions":{"type":"array","items":{"type":"object","properties":{"schemaId":{"type":"string","description":"Schema identifier"},"credDefId":{"type":"string","description":"Credential definition identifier"}}},"description":"List of restrictions for the requested attribute"}}}},"components":{"schemas":{"restriction":{"type":"object","properties":{"schemaId":{"type":"string","description":"Schema identifier"},"credDefId":{"type":"string","description":"Credential definition identifier"}}},"requestedAttribute":{"type":"object","properties":{"name":{"type":"string","description":"Name of the requested attribute"},"restrictions":{"type":"array","items":{"type":"object","properties":{"schemaId":{"type":"string","description":"Schema identifier"},"credDefId":{"type":"string","description":"Credential definition identifier"}}},"description":"List of restrictions for the requested attribute"}}}}}}},"required":["isExistingSchema","schemaId"]}}}]},"revision":{"type":"object","title":"Revision","description":"A *generic* revision model captures the serialised contents of any schema's single row. This is then subject to 1) cryptographic signature and 2) auditing.\n\nAside from the \"successor\" column, a revision should be considered locked.","x-not-in-database":false,"required":["id","schemaName","objectId","objectData","serizalizedSnapshot","serializedHash","timestamp"],"properties":{"id":{"type":"string","format":"","example":"","description":"Revision ID"},"schemaName":{"type":"string","format":"","example":"","description":"Previously \"schema\" but for technical reasons should be called \"schemaName\"","enum":["dataAgreement","policy","dataAgreementRecord"]},"objectId":{"type":"string","format":"","example":"","description":"The PK of the object that was serialised"},"objectData":{"type":"string","format":"","example":"","description":"The object that is serialised"},"signedWithoutObjectId":{"type":"boolean","format":"","example":"","description":"Indicates that objectId was left blank in serizalizedSnapshot when calculating serializedHash. objectId may subsequently be filled in."},"serizalizedSnapshot":{"type":"string","format":"","example":"","description":"Revisioned data (sed as JSON) as a dict. Apply JSON Canonicalization Scheme as per IETF RFC 8785.  It contains all the fields of the schema except sucessorId, serializedHash, serializedSnapshot.\n"},"serializedHash":{"type":"string","format":"","example":"","description":"Hash of serizalizedSnapshot (SHA-1)"},"timestamp":{"type":"string","format":"","example":"","description":"Timestamp of when revisioning happened. It should be ISO 8601 UTC date time"},"authorizedByIndividualId":{"description":"Individual ID","type":"string"},"authorizedByOtherId":{"type":"string","format":"","example":"","description":"Reference to an admin user that has created this revision"},"successorId":{"x-fk-model":"Revision","type":"string","description":"If this revision is no longer the latest revision, refer to its successor"},"predecessorHash":{"type":"string","format":"","example":"","description":"Tamper-resistent artifact from previous record, copied from serializedHash"},"predecessorSignature":{"type":"string","format":"","example":"","description":"Tamper-resistent artifact from previous record (we don't know if the previous record was signed or not)"}}}},"type":"object"}}},"description":"","headers":{}},"400":{"description":"bad input parameter","headers":{}}}}
>
  
</StatusCodes>


      