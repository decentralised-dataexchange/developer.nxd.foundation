---
id: service-create-individual-consent-record-draft
title: "Create draft consent record"
description: "This endpoint is used to create a draft (unsaved) consent record and signature object (without a PKI) for a data agreement."
sidebar_label: "Create draft consent record"
hide_title: true
hide_table_of_contents: true
api: eJzNWm1z27gR/is7+NDYM5ScS+/mZvSlteOkp3vJubbTdCb2B4hciTiTAA8AJase/ffOLsBXKU5iZ6bNl8gksFjsPvvsYsEHkaFLraq8MlrMxHWuHKDOKqO0B+WgdpiBN5BalB5BQmbl0sNRrZ1cY3YMqdEOtQeLqbEZSJ2BUystfW0RzOIPTD0cbZTPTe1BwsUv82NYGkuSpJcgVxaxRO2nIhGmQitJk3kmZsKhXasUX/PKc52ptcpqWbwOC17yeuekjUhEJa0s0aN1YvbxYbSpU90oQnrA/BxUK22eiUQoGvVnjXYrEqFliWImRkMs/lkri5mYeVtjIlyaYynF7EH4bUXjnbdKr8Rul3x+edr5abPxT2qwP+qbKmFxrVyw9eH1BwO6pZeycJ9bm8XlKDO0nbx/T6Lrzs4m8ydaNxltq5MD83OxuyVRrqJlHM1+9fIl/Zca7VF7+imrqlApg+zkD0cyHnqrVZYg6FWYnfaR1lMmGFIkwitf0IMBJMVYx9NxjOB9ZdE5dO2LI+kgw6XSmIHS4CkKF7UqMqVXsChMevfCgaswVcuo/DEFpQSn9KpAOO9DZQrXOVqEsnYeFhSz79/N//n+Da/mraTINhqOhvHX4iHpRcexSMT9RBs/UXpC4xfSYQuBzmsfhaJ9t8Iuo6yfpMtFIpyXHsVtMrKvyvY9nIilsaX0YiZEIvBelhWbeM+qv7MTHJRyS5uspCOmWsj0DhZbcKZEOL2Yt1zmoOUgTeg/uvjlOIEMtfFkY59LDz7HLUhLFrsRzHM3IgE1xSlIGPg4jFcOtPGwRQ/OG9v4DqGxFLOh0cUW8F45z6+t1E75KTBzDaU6yAxLzOWalLhsPbKoPaglVJLMDXUVgljCVcO0CUhYy0Jl7SRwuamLjGyzQk28itmUA2hEKwdccD9Z3k1Kk2EhZmKArT03XOcj9BEuN7lK8xbcuXSwQNSwUmvUeypcdjTzOVWaoQe1aDdulq0TevB+TCfw5pNqMYSfDtPXpto2GjURRqvnHKX8i3BEr5VOizrrUNSlUYIRaldbdCBXUmnnwcuyQtIlYIEmGKtWSsuin1R3yTCTfc7EHaEeNHKPbze5YTOSmlQjEGcNiY4WN5Wf696qC2MKlPrLDXhta5yxrbp98LqVccqrNRZbMJVns03hLTHTweF4T8SvfLEFJ1UG2sCRsWy8zMqNBgkVOcjU7TaO2XyBvJ6OANKFZcBSYZH1i6qYD8LbNJd6RQ5eerQTn+NkKVM/hTkTTUm0LTlBLLbs7UgdcHYGyjssllP4FzMAi3MzqHVwzUmFmhNJaWwPVe4kvCbtdV0SiTcziLLDj9td+MkzvgA+LSEdyIIdnpk9Cfq03aLg7axlUaNrQuVAVdnDmvId6O+wja+5XqtM1bJIoJR3tGPlYY1WLZVcFCGMQthMKmvMcgrXZ+czuMSCU2rIqO0OIJQFf2MMYOqNvbC4RIs6DekrGkJaK6lqUh5Ld6hKGNohZnEMMV+xSCL1sARk6KUq3Bfn3TBNJKIwoTDYT7NxyNMR/E6W2Ng4Cns0soezz7mucc0GlWvDFYyldMcc5X6Vzr+vMkpTXyF0hBM6WDARdYsV0nmoo+Ad/+tB+rGq7jEsc0pVaQ/TVGMSM4OE1G4rb1ZWVrlKA8WbZShJGOUJgDcr9DnaJpH35PBxJ2uLmMqqNdED4VxpkNrwPLd1HsspwGUEA4vgKEefm8zNegkxFP506Iqzr0YntOmN/mLEVXJbGNlwRGOgEGYBgr+xBqOHF+20A09jndh/c8WhfrZlh5ToKHD/j0pIlX19CXk1JMCvLR9dv36koGk88bzctOSSIcpqNQtMm8QzQ50SJCWB++er39+BQ6tkoVzgTbMMqc3BwwHfzmA6nSbwCa8feBvgc+DFqfWKcuKBVw1aDrz6eeN+4pNoAi2Q4rCwyQ/BqwENlw3FxyEhPq631fDBcNhuClfRIgMzZYoT+HJUzinXleSwwKXhEm/rc05Z7lNoOGqyIHVRjhN6GUaMVOpV/qZUnhZZWlOGfBPdTAeKpSqKsAyXHBtpMxcqngPs+LXI6jHMsl2VqJD1hiClTSpdzm1Vb/IkMyEqpq19lBCpHXQ27eMAJz19Q6ewwaKY3Gmz0RAmd7EfDheBeZsCrynHQmEzo1qDan6q5dQq55M53ldSU8XPWcDVVWUsuauveMPn7ak+kJWEUmlVygIcsh272XECaEzROWm307ExLp5NHHPt0WpZFNselF0XA2u0e2extnpil3aBFWhuhOEJu/3eW5myhbmvGOUHtkVl4xnPcbR9YpPPPL8d3OjhBN9WsVRILrClUGb/7qVZHuLCsfYN1z0LsQMcySix4RWSQspIcKnUVFYHHySgSrnCpBeV6NOxfm16frp+Z5jKmrMcqAy1p2i3LyjLBQEMfrmNByMwa7TM4MwggUYlaAxHKebMmL1680NK5mkcJKFGmsI82CAlXmUbDF3qur4Kl5Ph5BbJKVZ6oUDoNOfiszCGDx511TLTNsIVqnpRqLR/YGlKtkpavz2glDZ68iWKpQO9JPAQWfSOwC8cUBfWJVChdYYyvq7LBSVFLKUqQGZZ7ElOoi0lOC0rlxsfzLpQOnNk6lFv4ttYONKaDwXJCm1luU+5jK2R3kb6drTQOIIWctQG8+YOdZfxasegmp+DQ0ectMeGAcqn7hlQPr88fXsNb+dvfj2fwdXghGfj6dLlqoIF+g3GrC1rnxsb2GzY6gk7btsslFr6uTs1OkWrXcwmytEauJbaMwSbvkDsKU7hwjin6PzbZKKbXkvoRsAJlapY4Ep6vBF75ulS6jOoqGAWpXZNg6D95Dws24i32RpjV0XUUOOO6qwPV/2801w4Xb59/eMP3/1wTJvpjg/PKJQbGQ3GoxZpbS1qair1wlE5/cJzUDf4bVznDCj/ItT9/U5EU3V9qhh9TgONWnYpdYRCGI8T7UY6KHDpYVFIfdf2HvdTOc/etE0YbgG0OfxbdRe45QLcTTqsbjyJecPlVYRz65AbQZRw015d3Yhed8t23eOuwr1tt3HI2F+fct22LNFTa6AJfDgJR8q2/GkioFcBjWw7hQ/Ip8gOXn/QZQ7bpWgII5RFsR3QEsiRpISp9DFZoh3WNQOOYiNc6lBG2l7bXI76KQnl5raZnEBlCpVuqRyg1ih3UobNE340NIlI4kUg8Su9/j7cyQ1HLSQdRKqawybc5I4mhi5cbZXf8hXvGUqL9rT2uZh9vKVLx9NK/YJb/us2EV6u6C5YDOmQOghlPAqIyrhwd0wyxEm8bz7pyPEkmOEkWmUS/8zipTNNOHzjfI6lgfBaJKK21BrNva/c7OQkw9JMZKWmamWl9lNFdw9jAVdertjPh2W48Hos5raz0RVFUuiRNHbpOpbhQXL4mvY05KX/hG7iLhlYupVBmoh4Ucu0xINEEn+8beLl5w/X+1GS0sEkJurYdeETUFiJm6LqnqhooAtETXd8p7E0rE3s1Z3Pry64WXNu0prAGrTnTObCqq9evvp++tfpdweuaMoFN9ZpftafP8inv0ktV+Eu6eg0K5WGv/SuQ445V9FNGPwm7R36qpApHh4Zgebokwcu2kKZ33x48I/Gn4ng2ox4KBzu/t75eoyIPphEoVLUDntCTyuZ5givpi/3Zm42m6nk11NjVydxrjv5df76zburNxOaQyanaCml7gkNX2bEL0JGVz8jI/fu4P/H35hE/Hq89ydVIRVDnC3yEJngY/PliejfnfFXCnFrQz6gvTIj3CYiJ0qZfRQPD9SyeW+L3Y4ehy8rmCeUo7uI7juKT5rpqOnsHsNnP2A5uKk7CvrxdyxcAxItM+d8G2X2P1R5RJ/9wU9U6TNftDyiwmBct/ot/WH5qiiklIYan+y34dcpj+r0yMcxA/uE0cSgle+92/usZddPdBe/XxELyyGFjyibt9lkCL3tCX94CCOuibB3O9HozAQudre73e6/D49n8w==
sidebar_class_name: "post api-method"
info_path: docs/disp-api/disp-api-documentation
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create draft consent record"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/service/individual/record/consent-record/draft"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This endpoint is used to create a draft (unsaved) consent record and signature object (without a PKI) for a data agreement.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={[{"description":"An object with ID individualId","in":"query","name":"individualId","required":true,"schema":{"type":"string"}},{"description":"An object with ID dataAgreementId","in":"query","name":"dataAgreementId","required":true,"schema":{"type":"string"}},{"description":"An object with ID revisionId","in":"query","name":"revisionId","required":false,"schema":{"type":"string"}},{"in":"header","name":"X-ConsentBB-IndividualId","required":true,"schema":{"type":"string"},"description":"Individual ID"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"properties":{"consentRecord":{"type":"object","title":"ConsentRecord","description":"A consent record expresses consent (as defined in this building block's specification) to a single DataAgreement. There must be a UNIQUE constraint on (data agreement revision, individual)","x-not-in-database":false,"required":["id","agreementRevisionHash","state"],"properties":{"id":{"type":"string","format":"","example":"","description":"Objects may be passed back by some API endpoints without an ID (PK), denoting that they are a \"draft\", i.e. a ConsentRecord that is not yet stored in the database and only exist in transit. Draft ConsentRecords do not have a Revision, but if paired up with a Signature, a valid Revision should be generated."},"dataAgreementId":{"type":"string","x-fk-model":"DataAgreement","description":"The DataAgreement to which consent has been given"},"dataAgreementRevisionId":{"type":"string","x-fk-model":"Revision","description":"The Revision of the data agreement which consent has been given to"},"dataAgreementRevisionHash":{"type":"string","format":"","example":"","description":"Copy of the revision hash. The hash is the included in the signature and ensures against tampering with the original agreement."},"individualId":{"type":"string","x-fk-model":"Individual","description":"The Individual who has signed this consent record"},"optIn":{"type":"boolean","format":"","example":"","description":"True: The individual has positively opted in. False: The individual has explicitly said no (or withdrawn a previous consent)."},"state":{"type":"string","format":"","example":"","description":"The state field is used to record state changes after-the-fact. It is maintained by the Consent BB itself. Valid states: unsigned/pending more signatures/signed","enum":["unsigned","signed"]},"signatureId":{"type":"string","x-fk-model":"Signature","description":"A signature that hashes all the values of the consent record and has signed it with the key of the Invidiual, making it verifiable and tamper-proof. TBD: Relation to a Signature schema?"},"sectorPreferences":{"type":"array","items":{"type":"object","description":"specifies the preferred sector details","x-not-in-database":false,"required":["sector","location"],"properties":{"sector":{"type":"string","format":"","example":"","description":"Name of the sector"},"optIn":{"type":"boolean","description":"Defines sector is opted in or not"},"isLastUpdated":{"type":"boolean","description":"Defines consent record for this sector is last updated"}}}}}},"signature":{"type":"object","title":"Signature","description":"A generic signature contains a cryptographic hash of some value,  together with a signature created by some private key in another system.  Required signing methods: Revision object or another Signature object.\n","x-not-in-database":false,"required":["payload","signature","verificationMethod","verificationPayload","verificationPayloadHash","verificationSignedBy","timestamp"],"properties":{"id":{"type":"string","format":"","example":"","description":"Objects may be passed back by some API endpoints without an id (PK), denoting that they are a \"draft\", i.e. a Signature that is not yet stored in the database and only exists in transit."},"payload":{"type":"string","format":"","example":"","description":"The final payload that is signed, constructed as a JSON serialisation of fields {verificationPayload: ..., verificationPayloadHash: ..., verificationMethod: ..., verificationArtifact: ..., verificationSignedBy: ..., verificationJwsHeader, timestamp: ..., signedWithoutObjectReference: ..., objectType: ..., objectReference: ...}. Serialised as a JSON dict. If the signature is generated before anything is stored in the database (and has a PK), then the objectReference should be omitted from the payload but filled in afterwards."},"signature":{"type":"string","format":"","example":"","description":"Signature of payload hash, the format of the signature should be specified by either verificationMethod or verificationJwsHeader"},"verificationMethod":{"type":"string","format":"","example":"","description":"A well-known string denoting which method is used. Valid values: TBD. This might be expanded with supported verification methods. There may be a minimal set of supported methods necessary."},"verificationPayload":{"type":"string","format":"","example":"","description":"Internally generated serialised version of the data referenced by objectType and objectReference - by extracting and serialising their data as JSON"},"verificationPayloadHash":{"type":"string","format":"","example":"","description":"Internally generated cryptographic hash of the value to be signed, i.e. the value of verificationPayload"},"verificationArtifact":{"type":"string","format":"","example":"","description":"A verification artifact in the form of a scanned object, image, signature etc"},"verificationSignedBy":{"type":"string","format":"","example":"","description":"Because an identifier's information may change over time, there is a need to store that information at the time of signing. In the case of a cryptographic signature, this field should contain some identifier for looking up or verifying the public key of the signing party. In the case of a non-cryptographic signature, this field could contain a natural individual's names, personal number, email addresses - store a snapshot that binds to the signature at the time of signing. In the case of a cryptographic signature, this may be the fingerprint of the individual's public key or in some cases, a token from the user's ID session."},"verificationSignedAs":{"type":"string","format":"","example":"","description":"DRAFT FIELD: Specifies the relationship between the authorising signature and the invidual which the payload concerns. This is relevant for Consent Records. Possible values: \"individual\" / \"delegate\"."},"verificationJwsHeader":{"type":"string","format":"","example":"","description":"Alternative to the verificationMethod, verificationHash and verificationSignature, give a JWS serialised object (RFC7515)"},"timestamp":{"type":"string","format":"","example":"","description":"Timestamp of signature, currently this field isn't part of the payload so it's not tamper-proof"},"signedWithoutObjectReference":{"type":"boolean","format":"","example":"","description":"Indicates that objectReference was left blank in the serialised version that was signed"},"objectType":{"type":"string","format":"","example":"","description":"Name of the schema model that objectReference points to. Values: \"signature\" or \"revision\"","enum":["revision","signature"]},"objectReference":{"type":"string","format":"","example":"","description":"A symmetric relation / back reference to the objectType that was signed. We are currently just modelling signing another signature (a chain) or signing a Revision (which can be a revision of a consent record, an agreement, policy etc)."}}}},"type":"object"}}},"description":"","headers":{}},"400":{"description":"bad input parameter","headers":{}}}}
>
  
</StatusCodes>


      