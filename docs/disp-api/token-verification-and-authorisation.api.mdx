---
id: token-verification-and-authorisation
title: "Token Verification and Authorisation"
description: "The Token Verification and Authorisation endpoint for an organisation in  regards to a Data Marketplace. An Access Token issued as a result of a Pull-Data request can be verified here, and an authorisation decision can be made  against the requested resource (defined by OpenAPI method and path). The  resource is checked against the OpenAPI specification of the underlying  Data Agreement within the Data Disclosure Agreement Record's Template  connected to the Access Token."
sidebar_label: "Token Verification and Authorisation"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/disp-api/disp-api-documentation
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";
import Translate from "@docusaurus/Translate";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Token Verification and Authorisation"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v3/service/data-space/validate-access"}
  context={"endpoint"}
>
  
</MethodEndpoint>



The Token Verification and Authorisation endpoint for an organisation in  regards to a Data Marketplace. An Access Token issued as a result of a Pull-Data request can be verified here, and an authorisation decision can be made  against the requested resource (defined by OpenAPI method and path). The  resource is checked against the OpenAPI specification of the underlying  Data Agreement within the Data Disclosure Agreement Record's Template  connected to the Access Token.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
>
  <Translate id="theme.openapi.request.title">Request</Translate>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string","description":"The JWT Access Token to be verified and authorised"},"httpMethod":{"type":"string","description":"The HTTP Method to be checked against the OpenAPI specification"},"path":{"type":"string","description":"The path to be checked against the OpenAPI specification"},"excludeDataClassification":{"type":"bool","description":"Whether to exclude the data classification from the result","default":false},"excludeIndividuals":{"type":"bool","description":"Whether to exclude the individuals from the result","default":false},"excludeDecodedClaims":{"type":"bool","description":"Whether to exclude the decoded claims from the result","default":false}},"required":["accessToken","httpMethod","path"]}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Access token verification result","content":{"application/json":{"schema":{"oneOf":[{"properties":{"verified":{"type":"boolean","description":"Whether the access token was verified and authorised","example":true},"dataClassification":{"type":"string","description":"The data classification of the requested resource","enum":["anonymous","pii"]},"individuals":{"type":"array","items":{"allOf":[{"type":"object","title":"Individual","description":"Shallowly models an Individual which may reference some instance in an external system (registration system, functional ID, foundational ID etc). An Individual instance of this model is not to be mistaken with a unique natural individual. It is up to the system owner to decide if this record permits mapping to a natural individual and/or if a single Individual row can map to several consent agreements.","x-not-in-database":false,"properties":{"id":{"type":"string","format":"","example":"","description":"The unique ID of an Individual row."},"externalId":{"type":"string","format":"","example":"","description":"Reference to another foundational/functional ID, which is likely PII"},"externalIdType":{"type":"string","format":"","example":"","description":"External ID type specifier. A string. For instance \"email\" or \"foundational ID\". Can be used in later queries."},"identityProviderId":{"type":"string","format":"","example":"","description":"This could be an FK, but for now we do not have a mapping of identity providers. IDBB may have more requirements."}}},{"type":"object","title":"IndividualExtras","required":["name","email","phone"],"properties":{"name":{"type":"string","description":"Name of the individual"},"iamId":{"type":"string","description":"Create a user in keycloak and save the `id` as `iamId`"},"email":{"type":"string","description":"Email ID"},"phone":{"type":"string","description":"Phone"},"pushNotificationToken":{"type":"string","description":"Device token of the individual"},"deviceType":{"type":"string","description":"Device type(OS) of the individual","enum":["android","ios"]},"mapperId":{"type":"string","description":"Defines the mapper id of the individual"}}}],"description":"Data for an individual, returned if the Pull-Data request was made for a specific individual"}},"decodedClaims":{"type":"object","description":"The decoded JWT claims. The fields listed below will be present; additional claims are allowed.","properties":{"aud":{"type":"string","description":"The audience of the JWT"},"dataClassification":{"type":"string","enum":["anonymous","pii"],"description":"The data classification of the requested resource"},"dataDisclosureAgreementRecordId":{"type":"string","description":"The ID of the Data Disclosure Agreement Record associated with this token"},"exp":{"type":"integer","description":"The expiration time of the JWT"},"iat":{"type":"integer","description":"The issued at time of the JWT"},"iss":{"type":"string","description":"The issuer of the JWT"},"jti":{"type":"string","description":"The unique identifier for the JWT"}},"required":["aud","dataClassification","dataDisclosureAgreementRecordId","exp","iat","iss","jti"],"additionalProperties":true}},"type":"object","required":["verified","dataClassification","individuals","decodedClaims"]},{"properties":{"verified":{"type":"boolean","description":"Whether the access token was verified and authorised","example":false},"reason":{"type":"string","description":"The reason why the access token verification failed","example":"Invalid signature"}},"type":"object","required":["verified","reason"]}]}}}},"headers":{"Content-Type":{"schema":{"type":"string","example":"application/json"},"description":"Content-Type header"}}}}
>
  
</StatusCodes>


      